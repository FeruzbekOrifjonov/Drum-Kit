<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Drum Kit</title>
  <link rel="stylesheet" href="./css/style.css">
  <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
</head>

<body>

  <h1 id="title">Drum 🥁 Kit</h1>
  <div class="set">
    <button data-key="68" class="w drum">D</button>
    <button data-key="82" class="a drum">R</button>
    <button data-key="85" class="s drum">U</button>
    <button data-key="77" class="d drum">M</button>
    <button data-key="75" class="j drum">K</button>
    <button data-key="73" class="k drum">I</button>
    <button data-key="84" class="l drum">T</button>
  </div>

  <audio data-key="68" src="sounds/crash.mp3"></audio>
  <audio data-key="82" src="sounds/kick-bass.mp3"></audio>
  <audio data-key="85" src="sounds/snare.mp3"></audio>
  <audio data-key="77" src="sounds/tom-1.mp3"></audio>
  <audio data-key="75" src="sounds/tom-2.mp3"></audio>
  <audio data-key="73" src="sounds/tom-3.mp3"></audio>
  <audio data-key="84" src="sounds/tom-4.mp3"></audio>

  <footer>
    Made by Feruzbek Orifjonov.
    Hello Wolrd
  </footer>

<!-- <script src="./js/app.js"></script> -->
<script>
    window.addEventListener('keydown',function(e){
   const audio=this.document.querySelector(`audio[data-key="${e.keyCode}"]`)
   const drum=document.querySelector(`.drum[data-key="${e.keyCode}"]`)
   if(!audio){
    return;
   } 
   audio.currentTime=0;
   audio.play();
   drum.classList.add("pressed");
   
   function removeTransition(e){
    if(e.propertyName !=='opacity')return;

   
    this.classList.remove("pressed")
   }

   const keys=document.querySelectorAll(".drum");
   keys.forEach(key => drum.addEventListener('transitionend',removeTransition));

})
</script>
</body>

</html>
